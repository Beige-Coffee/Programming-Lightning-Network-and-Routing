# Lightning Network Communication Protocol

So, we've determined that Alice and Bob will communicate with each other using one of the various TCP/IP protocols: IPv4, IPv6, or Tor.

Below is a diagram depicting how they may identify each other if they were using IPv4. For instance, imagine that Alice knows that Bob's Lightning node can be found at the IP Address: **198.51.100.89**.

#### Question: Which port is Bob's Lightning node _most likely_ running on? Why?

> HINT: If you don't know the answer, you can find it in [BOLT #1](https://github.com/lightning/bolts/blob/master/01-messaging.md)!

<details>
  <summary>Answer</summary>

Bob's Lightning node is probably running on port **9735**!

Why is that? According to [BOLT #1: Base Protocol](https://github.com/lightning/bolts/blob/master/01-messaging.md), 9375 is teh default TCP port for mainnet Lightning nodes. The other default ports are listed below:
- **Testnet**: 19735
- **Signet**: 39735

By specifying a default port, it reduces friction for both Lightning users, developers, and educators, as everyone can create shared software and documenation that assumes a port number. That said, your Lightning node is free to run on a different port - it does not have to be 9375.

</details>

<p align="center" style="width: 50%; max-width: 300px;">
  <img src="./tutorial_images/alice_bob_address.png" alt="alice_bob_address" width="100%" height="auto">
</p>

## Authenticated Communcation

Great, so Alice knows *where* she can find bob in cyberspace - at his internet address: **198.51.100.89:9735**!

#### Question: Imagine Alice connects to 198.51.100.89:9735 and starts sending messages. Can she be sure she is actually communicating with Bob?

<details>
  <summary>Answer</summary>

No! If Alice simply connect to Bob's IP address, she has no guarentee that it's actually Bob. For instance, IP Addresses can change - perhaps Bob's Internet Service Provide (ISP) assigns him a new IP address. Or, worse, an attacker is intercepting the traffic heading to Bob's IP address and pretending to be Bob.

What we really want is a **cryptographic** assurance that we're actually communicating with Bob. And, similarly, Bob will want a cryptographic guarentee that we're (Alice) actually the ones communicating with him.

</details>

### Public Key = Identity
To ensure that Alice and Bob have a stronger assurance 